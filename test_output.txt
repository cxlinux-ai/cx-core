============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0 -- /home/sujay/internship/cortex/venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/sujay/internship/cortex
configfile: pyproject.toml
plugins: cov-7.0.0, anyio-4.12.0, asyncio-1.3.0, mock-3.15.1, timeout-2.4.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 695 items / 4 skipped

tests/installer/test_parallel_install.py::TestParallelExecution::test_parallel_runs_faster_than_sequential PASSED [  0%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_dependency_order_respected PASSED [  0%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_failure_blocks_dependent_tasks PASSED [  0%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_all_independent_tasks_run PASSED [  0%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_descriptions_match_tasks PASSED [  0%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_invalid_description_count_raises_error PASSED [  0%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_command_timeout PASSED [  1%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_empty_commands_list PASSED [  1%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_task_status_tracking PASSED [  1%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_sequential_mode_unchanged PASSED [  1%]
tests/installer/test_parallel_install.py::TestParallelExecution::test_log_callback_called PASSED [  1%]
tests/installer/test_parallel_install.py::TestParallelExecutionIntegration::test_diamond_dependency_graph PASSED [  1%]
tests/installer/test_parallel_install.py::TestParallelExecutionIntegration::test_mixed_success_and_independent_failure PASSED [  1%]
tests/integration/test_end_to_end.py::TestEndToEndWorkflows::test_cli_dry_run_with_fake_provider SKIPPED [  2%]
tests/integration/test_end_to_end.py::TestEndToEndWorkflows::test_cli_execute_with_fake_provider SKIPPED [  2%]
tests/integration/test_end_to_end.py::TestEndToEndWorkflows::test_cli_help_executes SKIPPED [  2%]
tests/integration/test_end_to_end.py::TestEndToEndWorkflows::test_coordinator_executes_in_container SKIPPED [  2%]
tests/integration/test_end_to_end.py::TestEndToEndWorkflows::test_project_tests_run_inside_container SKIPPED [  2%]
tests/kernel_features/test_kv_cache.py::test_cache_config PASSED         [  2%]
tests/kernel_features/test_model_lifecycle.py::test_model_config_defaults PASSED [  2%]
tests/kernel_features/test_model_lifecycle.py::test_config_roundtrip PASSED [  3%]
tests/test_cli.py::TestCortexCLI::test_get_api_key_claude PASSED         [  3%]
tests/test_cli.py::TestCortexCLI::test_get_api_key_not_found PASSED      [  3%]
tests/test_cli.py::TestCortexCLI::test_get_api_key_openai PASSED         [  3%]
tests/test_cli.py::TestCortexCLI::test_get_provider_claude PASSED        [  3%]
tests/test_cli.py::TestCortexCLI::test_get_provider_openai PASSED        [  3%]
tests/test_cli.py::TestCortexCLI::test_install_dry_run PASSED            [  3%]
tests/test_cli.py::TestCortexCLI::test_install_no_api_key FAILED         [  4%]
tests/test_cli.py::TestCortexCLI::test_install_no_commands_generated PASSED [  4%]
tests/test_cli.py::TestCortexCLI::test_install_no_execute PASSED         [  4%]
tests/test_cli.py::TestCortexCLI::test_install_runtime_error PASSED      [  4%]
tests/test_cli.py::TestCortexCLI::test_install_unexpected_error PASSED   [  4%]
tests/test_cli.py::TestCortexCLI::test_install_value_error PASSED        [  4%]
tests/test_cli.py::TestCortexCLI::test_install_with_execute_failure PASSED [  4%]
tests/test_cli.py::TestCortexCLI::test_install_with_execute_success PASSED [  5%]
tests/test_cli.py::TestCortexCLI::test_main_install_command PASSED       [  5%]
tests/test_cli.py::TestCortexCLI::test_main_install_with_dry_run PASSED  [  5%]
tests/test_cli.py::TestCortexCLI::test_main_install_with_execute PASSED  [  5%]
tests/test_cli.py::TestCortexCLI::test_main_no_command PASSED            [  5%]
tests/test_cli.py::TestCortexCLI::test_print_error PASSED                [  5%]
tests/test_cli.py::TestCortexCLI::test_print_status PASSED               [  5%]
tests/test_cli.py::TestCortexCLI::test_print_success PASSED              [  6%]
tests/test_cli.py::TestCortexCLI::test_spinner_animation PASSED          [  6%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_get_api_key_claude PASSED [  6%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_get_api_key_not_found PASSED [  6%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_get_api_key_openai PASSED [  6%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_get_provider_claude PASSED [  6%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_get_provider_openai PASSED [  6%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_get_provider_override PASSED [  7%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_dry_run PASSED [  7%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_no_api_key PASSED [  7%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_no_commands_generated PASSED [  7%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_no_execute PASSED [  7%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_runtime_error PASSED [  7%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_unexpected_error PASSED [  7%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_value_error PASSED [  8%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_with_execute_failure PASSED [  8%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_install_with_execute_success PASSED [  8%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_main_install_command PASSED [  8%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_main_install_with_dry_run PASSED [  8%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_main_install_with_execute PASSED [  8%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_main_no_command PASSED [  8%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_print_error PASSED [  9%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_print_status PASSED [  9%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_print_success PASSED [  9%]
tests/test_cli_extended.py::TestCortexCLIExtended::test_spinner_animation PASSED [  9%]
tests/test_context_memory.py::TestContextMemory::test_concurrent_pattern_detection PASSED [  9%]
tests/test_context_memory.py::TestContextMemory::test_dismiss_suggestion PASSED [  9%]
tests/test_context_memory.py::TestContextMemory::test_export_memory PASSED [  9%]
tests/test_context_memory.py::TestContextMemory::test_generate_suggestions_alternatives PASSED [ 10%]
tests/test_context_memory.py::TestContextMemory::test_generate_suggestions_optimization PASSED [ 10%]
tests/test_context_memory.py::TestContextMemory::test_get_similar_interactions PASSED [ 10%]
tests/test_context_memory.py::TestContextMemory::test_initialization PASSED [ 10%]
tests/test_context_memory.py::TestContextMemory::test_keyword_extraction PASSED [ 10%]
tests/test_context_memory.py::TestContextMemory::test_memory_entry_creation PASSED [ 10%]
tests/test_context_memory.py::TestContextMemory::test_pattern_confidence_increase PASSED [ 10%]
tests/test_context_memory.py::TestContextMemory::test_pattern_detection PASSED [ 11%]
tests/test_context_memory.py::TestContextMemory::test_preference_update PASSED [ 11%]
tests/test_context_memory.py::TestContextMemory::test_preferences PASSED [ 11%]
tests/test_context_memory.py::TestContextMemory::test_record_interaction PASSED [ 11%]
tests/test_context_memory.py::TestContextMemory::test_statistics PASSED  [ 11%]
tests/test_context_memory.py::TestContextMemory::test_suggestion_deduplication PASSED [ 11%]
tests/test_context_memory.py::TestMemoryEntry::test_custom_metadata PASSED [ 11%]
tests/test_context_memory.py::TestMemoryEntry::test_default_values PASSED [ 12%]
tests/test_context_memory.py::TestIntegration::test_complete_workflow PASSED [ 12%]
tests/test_coordinator.py::TestInstallationStep::test_step_creation PASSED [ 12%]
tests/test_coordinator.py::TestInstallationStep::test_step_duration PASSED [ 12%]
tests/test_coordinator.py::TestInstallationCoordinator::test_execute_continue_on_error PASSED [ 12%]
tests/test_coordinator.py::TestInstallationCoordinator::test_execute_multiple_success PASSED [ 12%]
tests/test_coordinator.py::TestInstallationCoordinator::test_execute_single_failure PASSED [ 12%]
tests/test_coordinator.py::TestInstallationCoordinator::test_execute_single_success PASSED [ 13%]
tests/test_coordinator.py::TestInstallationCoordinator::test_execute_stop_on_error PASSED [ 13%]
tests/test_coordinator.py::TestInstallationCoordinator::test_export_log PASSED [ 13%]
tests/test_coordinator.py::TestInstallationCoordinator::test_from_plan_initialization PASSED [ 13%]
tests/test_coordinator.py::TestInstallationCoordinator::test_get_summary PASSED [ 13%]
tests/test_coordinator.py::TestInstallationCoordinator::test_initialization PASSED [ 13%]
tests/test_coordinator.py::TestInstallationCoordinator::test_initialization_mismatched_descriptions PASSED [ 13%]
tests/test_coordinator.py::TestInstallationCoordinator::test_initialization_with_descriptions PASSED [ 14%]
tests/test_coordinator.py::TestInstallationCoordinator::test_log_file PASSED [ 14%]
tests/test_coordinator.py::TestInstallationCoordinator::test_progress_callback PASSED [ 14%]
tests/test_coordinator.py::TestInstallationCoordinator::test_rollback PASSED [ 14%]
tests/test_coordinator.py::TestInstallationCoordinator::test_step_timing PASSED [ 14%]
tests/test_coordinator.py::TestInstallationCoordinator::test_timeout_handling PASSED [ 14%]
tests/test_coordinator.py::TestInstallationCoordinator::test_verify_installation PASSED [ 14%]
tests/test_coordinator.py::TestInstallDocker::test_install_docker_failure PASSED [ 15%]
tests/test_coordinator.py::TestInstallDocker::test_install_docker_success PASSED [ 15%]
tests/test_coordinator.py::TestInstallationPlans::test_example_cuda_install_plan_structure PASSED [ 15%]
tests/test_doctor.py::TestSystemDoctorInit::test_init_empty_lists PASSED [ 15%]
tests/test_doctor.py::TestPythonVersionCheck::test_python_version_scenarios[version_tuple0-PASS] PASSED [ 15%]
tests/test_doctor.py::TestPythonVersionCheck::test_python_version_scenarios[version_tuple1-FAIL] PASSED [ 15%]
tests/test_doctor.py::TestPythonVersionCheck::test_python_version_scenarios[version_tuple2-FAIL] PASSED [ 15%]
tests/test_doctor.py::TestRequirementsTxtDependencies::test_requirements_txt_all_installed PASSED [ 16%]
tests/test_doctor.py::TestRequirementsTxtDependencies::test_some_dependencies_missing PASSED [ 16%]
tests/test_doctor.py::TestGPUDriverCheck::test_cpu_only_message PASSED   [ 16%]
tests/test_doctor.py::TestExitCodes::test_exit_codes PASSED              [ 16%]
tests/test_env_loader.py::TestGetEnvFileLocations::test_returns_list_of_paths PASSED [ 16%]
tests/test_env_loader.py::TestGetEnvFileLocations::test_includes_cwd_env PASSED [ 16%]
tests/test_env_loader.py::TestGetEnvFileLocations::test_includes_home_cortex_env PASSED [ 16%]
tests/test_env_loader.py::TestGetEnvFileLocations::test_includes_system_env_on_posix PASSED [ 17%]
tests/test_env_loader.py::TestGetEnvFileLocations::test_cwd_is_first_priority PASSED [ 17%]
tests/test_env_loader.py::TestLoadEnv::test_returns_empty_list_when_no_env_files PASSED [ 17%]
tests/test_env_loader.py::TestLoadEnv::test_loads_env_from_cwd PASSED    [ 17%]
tests/test_env_loader.py::TestLoadEnv::test_existing_env_vars_not_overridden_by_default PASSED [ 17%]
tests/test_env_loader.py::TestLoadEnv::test_override_mode_replaces_existing_vars PASSED [ 17%]
tests/test_env_loader.py::TestLoadEnv::test_handles_missing_dotenv_gracefully PASSED [ 17%]
tests/test_env_loader.py::TestFindEnvFiles::test_returns_empty_when_no_files_exist PASSED [ 18%]
tests/test_env_loader.py::TestFindEnvFiles::test_finds_existing_env_file PASSED [ 18%]
tests/test_env_loader.py::TestGetApiKeySources::test_returns_dict_of_api_keys PASSED [ 18%]
tests/test_env_loader.py::TestGetApiKeySources::test_none_for_missing_keys PASSED [ 18%]
tests/test_env_loader.py::TestApiKeyLoadingIntegration::test_anthropic_key_loaded_from_dotenv PASSED [ 18%]
tests/test_env_loader.py::TestApiKeyLoadingIntegration::test_openai_key_loaded_from_dotenv PASSED [ 18%]
tests/test_env_loader.py::TestApiKeyLoadingIntegration::test_multiple_keys_loaded PASSED [ 18%]
tests/test_error_parser.py::TestErrorParser::test_broken_package_error PASSED [ 19%]
tests/test_error_parser.py::TestErrorParser::test_conflict_error PASSED  [ 19%]
tests/test_error_parser.py::TestErrorParser::test_data_extraction PASSED [ 19%]
tests/test_error_parser.py::TestErrorParser::test_dependency_missing_error PASSED [ 19%]
tests/test_error_parser.py::TestErrorParser::test_disk_space_error PASSED [ 19%]
tests/test_error_parser.py::TestErrorParser::test_gpg_key_error PASSED   [ 19%]
tests/test_error_parser.py::TestErrorParser::test_lock_error PASSED      [ 20%]
tests/test_error_parser.py::TestErrorParser::test_multiple_patterns_match PASSED [ 20%]
tests/test_error_parser.py::TestErrorParser::test_network_error PASSED   [ 20%]
tests/test_error_parser.py::TestErrorParser::test_package_not_found_error PASSED [ 20%]
tests/test_error_parser.py::TestErrorParser::test_permission_denied_error PASSED [ 20%]
tests/test_error_parser.py::TestErrorParser::test_severity_calculation PASSED [ 20%]
tests/test_error_parser.py::TestErrorParser::test_unknown_error PASSED   [ 20%]
tests/test_first_run_wizard.py::TestWizardStep::test_all_steps_exist PASSED [ 21%]
tests/test_first_run_wizard.py::TestWizardStep::test_step_values PASSED  [ 21%]
tests/test_first_run_wizard.py::TestWizardState::test_default_values PASSED [ 21%]
tests/test_first_run_wizard.py::TestWizardState::test_mark_completed PASSED [ 21%]
tests/test_first_run_wizard.py::TestWizardState::test_mark_completed_no_duplicates PASSED [ 21%]
tests/test_first_run_wizard.py::TestWizardState::test_mark_skipped PASSED [ 21%]
tests/test_first_run_wizard.py::TestWizardState::test_is_completed PASSED [ 21%]
tests/test_first_run_wizard.py::TestWizardState::test_to_dict PASSED     [ 22%]
tests/test_first_run_wizard.py::TestWizardState::test_from_dict PASSED   [ 22%]
tests/test_first_run_wizard.py::TestStepResult::test_success_result PASSED [ 22%]
tests/test_first_run_wizard.py::TestStepResult::test_result_with_data PASSED [ 22%]
tests/test_first_run_wizard.py::TestStepResult::test_result_with_skip PASSED [ 22%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_init_non_interactive PASSED [ 22%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_ensure_config_dir PASSED [ 22%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_needs_setup_true PASSED [ 23%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_needs_setup_false PASSED [ 23%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_save_and_load_state PASSED [ 23%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_save_config PASSED [ 23%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_mark_setup_complete PASSED [ 23%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_clear_screen PASSED [ 23%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_print_header PASSED [ 23%]
tests/test_first_run_wizard.py::TestFirstRunWizard::test_prompt_non_interactive PASSED [ 24%]
tests/test_first_run_wizard.py::TestWizardSteps::test_step_welcome PASSED [ 24%]
tests/test_first_run_wizard.py::TestWizardSteps::test_step_api_setup_existing_key PASSED [ 24%]
tests/test_first_run_wizard.py::TestWizardSteps::test_step_api_setup_no_key PASSED [ 24%]
tests/test_first_run_wizard.py::TestWizardSteps::test_step_hardware_detection PASSED [ 24%]
tests/test_first_run_wizard.py::TestWizardSteps::test_step_preferences PASSED [ 24%]
tests/test_first_run_wizard.py::TestWizardSteps::test_step_shell_integration PASSED [ 24%]
tests/test_first_run_wizard.py::TestWizardSteps::test_step_test_command PASSED [ 25%]
tests/test_first_run_wizard.py::TestWizardSteps::test_step_complete PASSED [ 25%]
tests/test_first_run_wizard.py::TestHardwareDetection::test_detect_hardware_full PASSED [ 25%]
tests/test_first_run_wizard.py::TestHardwareDetection::test_detect_nvidia_gpu PASSED [ 25%]
tests/test_first_run_wizard.py::TestShellIntegration::test_generate_bash_completion PASSED [ 25%]
tests/test_first_run_wizard.py::TestShellIntegration::test_generate_zsh_completion PASSED [ 25%]
tests/test_first_run_wizard.py::TestShellIntegration::test_generate_fish_completion PASSED [ 25%]
tests/test_first_run_wizard.py::TestShellIntegration::test_generate_unknown_shell PASSED [ 26%]
tests/test_first_run_wizard.py::TestShellIntegration::test_get_shell_config_bash PASSED [ 26%]
tests/test_first_run_wizard.py::TestShellIntegration::test_get_shell_config_zsh PASSED [ 26%]
tests/test_first_run_wizard.py::TestGlobalFunctions::test_needs_first_run PASSED [ 26%]
tests/test_first_run_wizard.py::TestGlobalFunctions::test_run_wizard PASSED [ 26%]
tests/test_first_run_wizard.py::TestGlobalFunctions::test_get_config_no_file PASSED [ 26%]
tests/test_first_run_wizard.py::TestEdgeCases::test_load_state_corrupted_file PASSED [ 26%]
tests/test_first_run_wizard.py::TestEdgeCases::test_save_state_readonly PASSED [ 27%]
tests/test_first_run_wizard.py::TestEdgeCases::test_prompt_eof PASSED    [ 27%]
tests/test_first_run_wizard.py::TestEdgeCases::test_prompt_keyboard_interrupt PASSED [ 27%]
tests/test_first_run_wizard.py::TestIntegration::test_complete_wizard_flow PASSED [ 27%]
tests/test_first_run_wizard.py::TestIntegration::test_wizard_resume PASSED [ 27%]
tests/test_graceful_degradation.py::TestResponseCache::test_init_creates_database PASSED [ 27%]
tests/test_graceful_degradation.py::TestResponseCache::test_put_and_get PASSED [ 27%]
tests/test_graceful_degradation.py::TestResponseCache::test_get_nonexistent PASSED [ 28%]
tests/test_graceful_degradation.py::TestResponseCache::test_hit_count_increments PASSED [ 28%]
tests/test_graceful_degradation.py::TestResponseCache::test_case_insensitive_matching PASSED [ 28%]
tests/test_graceful_degradation.py::TestResponseCache::test_get_similar PASSED [ 28%]
tests/test_graceful_degradation.py::TestResponseCache::test_get_stats PASSED [ 28%]
tests/test_graceful_degradation.py::TestResponseCache::test_clear_old_entries PASSED [ 28%]
tests/test_graceful_degradation.py::TestPatternMatcher::test_install_docker PASSED [ 28%]
tests/test_graceful_degradation.py::TestPatternMatcher::test_install_python PASSED [ 29%]
tests/test_graceful_degradation.py::TestPatternMatcher::test_install_nodejs PASSED [ 29%]
tests/test_graceful_degradation.py::TestPatternMatcher::test_update_system PASSED [ 29%]
tests/test_graceful_degradation.py::TestPatternMatcher::test_search_package PASSED [ 29%]
tests/test_graceful_degradation.py::TestPatternMatcher::test_remove_package PASSED [ 29%]
tests/test_graceful_degradation.py::TestPatternMatcher::test_no_match PASSED [ 29%]
tests/test_graceful_degradation.py::TestPatternMatcher::test_case_insensitive PASSED [ 29%]
tests/test_graceful_degradation.py::TestHealthCheckResult::test_is_healthy_available PASSED [ 30%]
tests/test_graceful_degradation.py::TestHealthCheckResult::test_is_healthy_degraded PASSED [ 30%]
tests/test_graceful_degradation.py::TestHealthCheckResult::test_is_healthy_unavailable PASSED [ 30%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_initial_mode PASSED [ 30%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_check_api_health_with_key PASSED [ 30%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_check_api_health_no_key PASSED [ 30%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_check_api_health_custom_function PASSED [ 30%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_process_query_with_llm PASSED [ 31%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_process_query_llm_failure_uses_cache PASSED [ 31%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_process_query_pattern_matching PASSED [ 31%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_process_query_manual_mode PASSED [ 31%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_mode_degrades_after_failures PASSED [ 31%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_force_mode PASSED [ 31%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_reset PASSED [ 31%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_get_status PASSED [ 32%]
tests/test_graceful_degradation.py::TestGracefulDegradation::test_caches_successful_llm_responses PASSED [ 32%]
tests/test_graceful_degradation.py::TestGlobalFunctions::test_get_degradation_manager_singleton PASSED [ 32%]
tests/test_graceful_degradation.py::TestGlobalFunctions::test_process_with_fallback PASSED [ 32%]
tests/test_graceful_degradation.py::TestEdgeCases::test_empty_query PASSED [ 32%]
tests/test_graceful_degradation.py::TestEdgeCases::test_whitespace_query PASSED [ 32%]
tests/test_graceful_degradation.py::TestEdgeCases::test_very_long_query PASSED [ 32%]
tests/test_graceful_degradation.py::TestEdgeCases::test_special_characters_in_query PASSED [ 33%]
tests/test_graceful_degradation.py::TestEdgeCases::test_llm_returns_none PASSED [ 33%]
tests/test_graceful_degradation.py::TestEdgeCases::test_concurrent_cache_access PASSED [ 33%]
tests/test_graceful_degradation.py::TestIntegration::test_full_degradation_flow PASSED [ 33%]
tests/test_graceful_degradation.py::TestIntegration::test_recovery_after_api_returns PASSED [ 33%]
tests/test_hardware_detection.py::TestCPUVendor::test_all_vendors_exist PASSED [ 33%]
tests/test_hardware_detection.py::TestGPUVendor::test_all_vendors_exist PASSED [ 33%]
tests/test_hardware_detection.py::TestCPUInfo::test_default_values PASSED [ 34%]
tests/test_hardware_detection.py::TestCPUInfo::test_to_dict PASSED       [ 34%]
tests/test_hardware_detection.py::TestGPUInfo::test_default_values PASSED [ 34%]
tests/test_hardware_detection.py::TestGPUInfo::test_to_dict PASSED       [ 34%]
tests/test_hardware_detection.py::TestMemoryInfo::test_default_values PASSED [ 34%]
tests/test_hardware_detection.py::TestMemoryInfo::test_total_gb_property PASSED [ 34%]
tests/test_hardware_detection.py::TestMemoryInfo::test_available_gb_property PASSED [ 34%]
tests/test_hardware_detection.py::TestMemoryInfo::test_to_dict PASSED    [ 35%]
tests/test_hardware_detection.py::TestStorageInfo::test_default_values PASSED [ 35%]
tests/test_hardware_detection.py::TestStorageInfo::test_usage_percent_property PASSED [ 35%]
tests/test_hardware_detection.py::TestStorageInfo::test_usage_percent_zero_total PASSED [ 35%]
tests/test_hardware_detection.py::TestNetworkInfo::test_default_values PASSED [ 35%]
tests/test_hardware_detection.py::TestNetworkInfo::test_to_dict PASSED   [ 35%]
tests/test_hardware_detection.py::TestSystemInfo::test_default_values PASSED [ 35%]
tests/test_hardware_detection.py::TestSystemInfo::test_to_dict PASSED    [ 36%]
tests/test_hardware_detection.py::TestHardwareDetector::test_init_no_cache PASSED [ 36%]
tests/test_hardware_detection.py::TestHardwareDetector::test_init_with_cache PASSED [ 36%]
tests/test_hardware_detection.py::TestHardwareDetector::test_detect_returns_system_info PASSED [ 36%]
tests/test_hardware_detection.py::TestHardwareDetector::test_get_cpu_cores PASSED [ 36%]
tests/test_hardware_detection.py::TestHardwareDetector::test_get_cpu_cores_none PASSED [ 36%]
tests/test_hardware_detection.py::TestHardwareDetector::test_get_ram_gb PASSED [ 36%]
tests/test_hardware_detection.py::TestHardwareDetector::test_has_nvidia_gpu_true PASSED [ 37%]
tests/test_hardware_detection.py::TestHardwareDetector::test_has_nvidia_gpu_false PASSED [ 37%]
tests/test_hardware_detection.py::TestHardwareDetector::test_get_disk_free_gb PASSED [ 37%]
tests/test_hardware_detection.py::TestHardwareDetector::test_detect_quick PASSED [ 37%]
tests/test_hardware_detection.py::TestDetectionMethods::test_detect_system PASSED [ 37%]
tests/test_hardware_detection.py::TestDetectionMethods::test_detect_cpu PASSED [ 37%]
tests/test_hardware_detection.py::TestDetectionMethods::test_detect_gpu_nvidia PASSED [ 37%]
tests/test_hardware_detection.py::TestDetectionMethods::test_detect_gpu_amd PASSED [ 38%]
tests/test_hardware_detection.py::TestDetectionMethods::test_detect_memory PASSED [ 38%]
tests/test_hardware_detection.py::TestDetectionMethods::test_detect_storage PASSED [ 38%]
tests/test_hardware_detection.py::TestDetectionMethods::test_detect_virtualization_docker PASSED [ 38%]
tests/test_hardware_detection.py::TestCaching::test_save_and_load_cache PASSED [ 38%]
tests/test_hardware_detection.py::TestCaching::test_load_cache_not_exists PASSED [ 38%]
tests/test_hardware_detection.py::TestCaching::test_load_cache_corrupted PASSED [ 38%]
tests/test_hardware_detection.py::TestGlobalFunctions::test_get_detector_singleton PASSED [ 39%]
tests/test_hardware_detection.py::TestGlobalFunctions::test_detect_hardware PASSED [ 39%]
tests/test_hardware_detection.py::TestGlobalFunctions::test_detect_quick PASSED [ 39%]
tests/test_hardware_detection.py::TestGlobalFunctions::test_get_gpu_info PASSED [ 39%]
tests/test_hardware_detection.py::TestGlobalFunctions::test_has_nvidia_gpu PASSED [ 39%]
tests/test_hardware_detection.py::TestGlobalFunctions::test_get_ram_gb PASSED [ 39%]
tests/test_hardware_detection.py::TestGlobalFunctions::test_get_cpu_cores PASSED [ 40%]
tests/test_hardware_detection.py::TestEdgeCases::test_lspci_timeout PASSED [ 40%]
tests/test_hardware_detection.py::TestEdgeCases::test_nvidia_smi_not_found PASSED [ 40%]
tests/test_hardware_detection.py::TestEdgeCases::test_detect_with_missing_proc_files PASSED [ 40%]
tests/test_hardware_detection.py::TestIntegration::test_full_detection_cycle PASSED [ 40%]
tests/test_installation_history.py::TestInstallationHistory::test_cleanup_old_records PASSED [ 40%]
tests/test_installation_history.py::TestInstallationHistory::test_database_initialization PASSED [ 40%]
tests/test_installation_history.py::TestInstallationHistory::test_export_csv PASSED [ 41%]
tests/test_installation_history.py::TestInstallationHistory::test_export_json PASSED [ 41%]
tests/test_installation_history.py::TestInstallationHistory::test_extract_packages_from_commands PASSED [ 41%]
tests/test_installation_history.py::TestInstallationHistory::test_get_history PASSED [ 41%]
tests/test_installation_history.py::TestInstallationHistory::test_get_history_with_filter PASSED [ 41%]
tests/test_installation_history.py::TestInstallationHistory::test_get_nonexistent_installation PASSED [ 41%]
tests/test_installation_history.py::TestInstallationHistory::test_get_specific_installation PASSED [ 41%]
tests/test_installation_history.py::TestInstallationHistory::test_installation_id_generation PASSED [ 42%]
tests/test_installation_history.py::TestInstallationHistory::test_package_snapshot PASSED [ 42%]
tests/test_installation_history.py::TestInstallationHistory::test_record_installation PASSED [ 42%]
tests/test_installation_history.py::TestInstallationHistory::test_record_installation_with_empty_packages PASSED [ 42%]
tests/test_installation_history.py::TestInstallationHistory::test_rollback_dry_run PASSED [ 42%]
tests/test_installation_history.py::TestInstallationHistory::test_rollback_nonexistent_installation PASSED [ 42%]
tests/test_installation_history.py::TestInstallationHistory::test_update_installation PASSED [ 42%]
tests/test_installation_verifier.py::TestInstallationVerifier::test_custom_tests PASSED [ 43%]
tests/test_installation_verifier.py::TestInstallationVerifier::test_json_export PASSED [ 43%]
tests/test_installation_verifier.py::TestInstallationVerifier::test_multiple_packages PASSED [ 43%]
tests/test_installation_verifier.py::TestInstallationVerifier::test_summary_generation PASSED [ 43%]
tests/test_installation_verifier.py::TestInstallationVerifier::test_verify_existing_package PASSED [ 43%]
tests/test_installation_verifier.py::TestInstallationVerifier::test_verify_nonexistent_package PASSED [ 43%]
tests/test_interpreter.py::TestCommandInterpreter::test_call_claude_failure PASSED [ 43%]
tests/test_interpreter.py::TestCommandInterpreter::test_call_claude_success PASSED [ 44%]
tests/test_interpreter.py::TestCommandInterpreter::test_call_openai_failure PASSED [ 44%]
tests/test_interpreter.py::TestCommandInterpreter::test_call_openai_success PASSED [ 44%]
tests/test_interpreter.py::TestCommandInterpreter::test_initialization_claude PASSED [ 44%]
tests/test_interpreter.py::TestCommandInterpreter::test_initialization_custom_model PASSED [ 44%]
tests/test_interpreter.py::TestCommandInterpreter::test_initialization_openai PASSED [ 44%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_commands_empty_commands PASSED [ 44%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_commands_invalid_json PASSED [ 45%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_commands_valid_json PASSED [ 45%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_commands_with_markdown PASSED [ 45%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_docker_installation PASSED [ 45%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_empty_input PASSED [ 45%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_with_context PASSED [ 45%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_with_validation PASSED [ 45%]
tests/test_interpreter.py::TestCommandInterpreter::test_parse_without_validation PASSED [ 46%]
tests/test_interpreter.py::TestCommandInterpreter::test_system_prompt_format PASSED [ 46%]
tests/test_interpreter.py::TestCommandInterpreter::test_validate_commands_dangerous PASSED [ 46%]
tests/test_interpreter.py::TestCommandInterpreter::test_validate_commands_dd_pattern PASSED [ 46%]
tests/test_interpreter.py::TestCommandInterpreter::test_validate_commands_empty_list PASSED [ 46%]
tests/test_interpreter.py::TestCommandInterpreter::test_validate_commands_safe PASSED [ 46%]
tests/test_llm_router.py::TestRoutingLogic::test_code_generation_routes_to_ollama PASSED [ 46%]
tests/test_llm_router.py::TestRoutingLogic::test_configuration_routes_to_ollama PASSED [ 47%]
tests/test_llm_router.py::TestRoutingLogic::test_dependency_resolution_routes_to_ollama PASSED [ 47%]
tests/test_llm_router.py::TestRoutingLogic::test_error_debugging_routes_to_ollama PASSED [ 47%]
tests/test_llm_router.py::TestRoutingLogic::test_force_provider_override PASSED [ 47%]
tests/test_llm_router.py::TestRoutingLogic::test_requirement_parsing_routes_to_ollama PASSED [ 47%]
tests/test_llm_router.py::TestRoutingLogic::test_system_operation_routes_to_ollama PASSED [ 47%]
tests/test_llm_router.py::TestRoutingLogic::test_tool_execution_routes_to_ollama PASSED [ 47%]
tests/test_llm_router.py::TestRoutingLogic::test_user_chat_routes_to_ollama PASSED [ 48%]
tests/test_llm_router.py::TestFallbackBehavior::test_error_when_fallback_disabled PASSED [ 48%]
tests/test_llm_router.py::TestFallbackBehavior::test_error_when_no_providers_available PASSED [ 48%]
tests/test_llm_router.py::TestFallbackBehavior::test_fallback_to_claude_when_kimi_unavailable PASSED [ 48%]
tests/test_llm_router.py::TestFallbackBehavior::test_fallback_when_ollama_unavailable PASSED [ 48%]
tests/test_llm_router.py::TestCostTracking::test_cost_calculation_claude PASSED [ 48%]
tests/test_llm_router.py::TestCostTracking::test_cost_calculation_kimi PASSED [ 48%]
tests/test_llm_router.py::TestCostTracking::test_multiple_provider_stats PASSED [ 49%]
tests/test_llm_router.py::TestCostTracking::test_reset_stats PASSED      [ 49%]
tests/test_llm_router.py::TestCostTracking::test_stats_update PASSED     [ 49%]
tests/test_llm_router.py::TestClaudeIntegration::test_claude_completion PASSED [ 49%]
tests/test_llm_router.py::TestClaudeIntegration::test_claude_with_system_message PASSED [ 49%]
tests/test_llm_router.py::TestKimiIntegration::test_kimi_completion PASSED [ 49%]
tests/test_llm_router.py::TestKimiIntegration::test_kimi_temperature_mapping PASSED [ 49%]
tests/test_llm_router.py::TestKimiIntegration::test_kimi_with_tools PASSED [ 50%]
tests/test_llm_router.py::TestEndToEnd::test_complete_with_routing FAILED [ 50%]
tests/test_llm_router.py::TestEndToEnd::test_fallback_on_error FAILED    [ 50%]
tests/test_llm_router.py::TestConvenienceFunction::test_complete_task_simple PASSED [ 50%]
tests/test_llm_router.py::TestConvenienceFunction::test_complete_task_with_system_prompt PASSED [ 50%]
tests/test_llm_router.py::TestParallelProcessing::test_acomplete_claude PASSED [ 50%]
tests/test_llm_router.py::TestParallelProcessing::test_acomplete_kimi PASSED [ 50%]
tests/test_llm_router.py::TestParallelProcessing::test_check_hardware_configs_parallel PASSED [ 51%]
tests/test_llm_router.py::TestParallelProcessing::test_complete_batch FAILED [ 51%]
tests/test_llm_router.py::TestParallelProcessing::test_diagnose_errors_parallel PASSED [ 51%]
tests/test_llm_router.py::TestParallelProcessing::test_query_multiple_packages PASSED [ 51%]
tests/test_llm_router.py::TestParallelProcessing::test_rate_limit_semaphore PASSED [ 51%]
tests/test_logging_system.py::TestCortexLogger::test_basic_logging PASSED [ 51%]
tests/test_logging_system.py::TestCortexLogger::test_context_logging PASSED [ 51%]
tests/test_logging_system.py::TestCortexLogger::test_export_logs PASSED  [ 52%]
tests/test_logging_system.py::TestCortexLogger::test_log_context_manager PASSED [ 52%]
tests/test_logging_system.py::TestCortexLogger::test_log_stats PASSED    [ 52%]
tests/test_logging_system.py::TestCortexLogger::test_operation_timing PASSED [ 52%]
tests/test_logging_system.py::TestCortexLogger::test_search_logs PASSED  [ 52%]
tests/test_notification.py::TestNotificationManager::test_dnd_logic_active PASSED [ 52%]
tests/test_notification.py::TestNotificationManager::test_dnd_logic_inactive PASSED [ 52%]
tests/test_notification.py::TestNotificationManager::test_history_logging PASSED [ 53%]
tests/test_notification.py::TestNotificationManager::test_send_notification_with_actions PASSED [ 53%]
tests/test_ollama_integration.py::TestOllamaProvider::test_get_available_models PASSED [ 53%]
tests/test_ollama_integration.py::TestOllamaProvider::test_is_installed PASSED [ 53%]
tests/test_ollama_integration.py::TestOllamaProvider::test_is_running FAILED [ 53%]
tests/test_ollama_integration.py::TestOllamaProvider::test_pull_model PASSED [ 53%]
tests/test_ollama_integration.py::TestOllamaProvider::test_select_best_model PASSED [ 53%]
tests/test_ollama_integration.py::TestLLMRouter::test_complete_with_ollama FAILED [ 54%]
tests/test_ollama_integration.py::TestLLMRouter::test_fallback_to_cloud PASSED [ 54%]
tests/test_ollama_integration.py::TestLLMRouter::test_router_initialization PASSED [ 54%]
tests/test_ollama_integration.py::TestLLMRouter::test_routing_to_ollama PASSED [ 54%]
tests/test_ollama_integration.py::TestOllamaSetup::test_install_ollama PASSED [ 54%]
tests/test_packages.py::TestPackageManager::test_apache_installation PASSED [ 54%]
tests/test_packages.py::TestPackageManager::test_build_tools PASSED      [ 54%]
tests/test_packages.py::TestPackageManager::test_case_insensitive PASSED [ 55%]
tests/test_packages.py::TestPackageManager::test_comprehensive_software_requests 
tests/test_packages.py::TestPackageManager::test_comprehensive_software_requests PASSED [ 55%]
tests/test_packages.py::TestPackageManager::test_compression_tools PASSED [ 55%]
tests/test_packages.py::TestPackageManager::test_database_installations PASSED [ 55%]
tests/test_packages.py::TestPackageManager::test_dnf_package_manager PASSED [ 55%]
tests/test_packages.py::TestPackageManager::test_docker_installation PASSED [ 55%]
tests/test_packages.py::TestPackageManager::test_empty_request PASSED    [ 55%]
tests/test_packages.py::TestPackageManager::test_extract_action PASSED   [ 56%]
tests/test_packages.py::TestPackageManager::test_get_package_info_apt PASSED [ 56%]
tests/test_packages.py::TestPackageManager::test_get_package_info_yum PASSED [ 56%]
tests/test_packages.py::TestPackageManager::test_git_installation PASSED [ 56%]
tests/test_packages.py::TestPackageManager::test_image_tools PASSED      [ 56%]
tests/test_packages.py::TestPackageManager::test_kubernetes_tools PASSED [ 56%]
tests/test_packages.py::TestPackageManager::test_multiple_software_requests PASSED [ 56%]
tests/test_packages.py::TestPackageManager::test_network_tools PASSED    [ 57%]
tests/test_packages.py::TestPackageManager::test_nginx_installation PASSED [ 57%]
tests/test_packages.py::TestPackageManager::test_normalize_text PASSED   [ 57%]
tests/test_packages.py::TestPackageManager::test_package_name_variations PASSED [ 57%]
tests/test_packages.py::TestPackageManager::test_python_data_science PASSED [ 57%]
tests/test_packages.py::TestPackageManager::test_python_development_tools PASSED [ 57%]
tests/test_packages.py::TestPackageManager::test_python_installation PASSED [ 57%]
tests/test_packages.py::TestPackageManager::test_python_machine_learning PASSED [ 58%]
tests/test_packages.py::TestPackageManager::test_remove_action PASSED    [ 58%]
tests/test_packages.py::TestPackageManager::test_search_action PASSED    [ 58%]
tests/test_packages.py::TestPackageManager::test_security_tools PASSED   [ 58%]
tests/test_packages.py::TestPackageManager::test_system_monitoring PASSED [ 58%]
tests/test_packages.py::TestPackageManager::test_text_editors PASSED     [ 58%]
tests/test_packages.py::TestPackageManager::test_unknown_package PASSED  [ 58%]
tests/test_packages.py::TestPackageManager::test_update_action PASSED    [ 59%]
tests/test_packages.py::TestPackageManager::test_version_control PASSED  [ 59%]
tests/test_packages.py::TestPackageManager::test_web_development PASSED  [ 59%]
tests/test_packages.py::TestPackageManager::test_yum_apache_package_name PASSED [ 59%]
tests/test_packages.py::TestPackageManager::test_yum_package_manager PASSED [ 59%]
tests/test_parallel_llm.py::TestParallelQuery::test_query_creation PASSED [ 59%]
tests/test_parallel_llm.py::TestParallelQuery::test_query_with_metadata PASSED [ 60%]
tests/test_parallel_llm.py::TestParallelResult::test_failed_result PASSED [ 60%]
tests/test_parallel_llm.py::TestParallelResult::test_successful_result PASSED [ 60%]
tests/test_parallel_llm.py::TestBatchResult::test_batch_statistics PASSED [ 60%]
tests/test_parallel_llm.py::TestBatchResult::test_get_result_by_id PASSED [ 60%]
tests/test_parallel_llm.py::TestBatchResult::test_successful_responses PASSED [ 60%]
tests/test_parallel_llm.py::TestRateLimiter::test_acquire_consumes_token PASSED [ 60%]
tests/test_parallel_llm.py::TestRateLimiter::test_initial_tokens PASSED  [ 61%]
tests/test_parallel_llm.py::TestRateLimiter::test_multiple_rapid_acquires PASSED [ 61%]
tests/test_parallel_llm.py::TestParallelLLMExecutor::test_callback_on_complete PASSED [ 61%]
tests/test_parallel_llm.py::TestParallelLLMExecutor::test_empty_batch PASSED [ 61%]
tests/test_parallel_llm.py::TestParallelLLMExecutor::test_executor_initialization PASSED [ 61%]
tests/test_parallel_llm.py::TestParallelLLMExecutor::test_failed_query_handling PASSED [ 61%]
tests/test_parallel_llm.py::TestParallelLLMExecutor::test_multiple_queries_execution PASSED [ 61%]
tests/test_parallel_llm.py::TestParallelLLMExecutor::test_retry_on_failure PASSED [ 62%]
tests/test_parallel_llm.py::TestParallelLLMExecutor::test_single_query_execution PASSED [ 62%]
tests/test_parallel_llm.py::TestQueryHelpers::test_create_error_diagnosis_queries PASSED [ 62%]
tests/test_parallel_llm.py::TestQueryHelpers::test_create_hardware_check_queries PASSED [ 62%]
tests/test_parallel_llm.py::TestQueryHelpers::test_create_package_queries PASSED [ 62%]
tests/test_parallel_llm.py::TestQueryHelpers::test_create_package_queries_custom_template PASSED [ 62%]
tests/test_parallel_llm.py::TestAsyncExecution::test_async_batch_execution PASSED [ 62%]
tests/test_parallel_llm.py::TestAsyncExecution::test_concurrent_execution_time PASSED [ 63%]
tests/test_progress_indicators.py::TestOperationStep::test_default_values PASSED [ 63%]
tests/test_progress_indicators.py::TestOperationStep::test_duration_not_started PASSED [ 63%]
tests/test_progress_indicators.py::TestOperationStep::test_duration_running PASSED [ 63%]
tests/test_progress_indicators.py::TestOperationStep::test_duration_completed PASSED [ 63%]
tests/test_progress_indicators.py::TestOperationContext::test_default_values PASSED [ 63%]
tests/test_progress_indicators.py::TestOperationContext::test_total_steps PASSED [ 63%]
tests/test_progress_indicators.py::TestOperationContext::test_completed_steps PASSED [ 64%]
tests/test_progress_indicators.py::TestOperationContext::test_overall_progress PASSED [ 64%]
tests/test_progress_indicators.py::TestOperationContext::test_overall_progress_empty PASSED [ 64%]
tests/test_progress_indicators.py::TestFallbackProgress::test_start_and_stop PASSED [ 64%]
tests/test_progress_indicators.py::TestFallbackProgress::test_update PASSED [ 64%]
tests/test_progress_indicators.py::TestFallbackProgress::test_fail PASSED [ 64%]
tests/test_progress_indicators.py::TestProgressIndicator::test_init_without_rich PASSED [ 64%]
tests/test_progress_indicators.py::TestProgressIndicator::test_operation_icons PASSED [ 65%]
tests/test_progress_indicators.py::TestProgressIndicator::test_status_colors PASSED [ 65%]
tests/test_progress_indicators.py::TestProgressIndicator::test_operation_context_manager PASSED [ 65%]
tests/test_progress_indicators.py::TestProgressIndicator::test_operation_with_failure PASSED [ 65%]
tests/test_progress_indicators.py::TestProgressIndicator::test_spinner_context_manager PASSED [ 65%]
tests/test_progress_indicators.py::TestProgressIndicator::test_progress_bar_iteration PASSED [ 65%]
tests/test_progress_indicators.py::TestProgressIndicator::test_progress_bar_empty PASSED [ 65%]
tests/test_progress_indicators.py::TestProgressIndicator::test_print_success PASSED [ 66%]
tests/test_progress_indicators.py::TestProgressIndicator::test_print_error PASSED [ 66%]
tests/test_progress_indicators.py::TestProgressIndicator::test_print_warning PASSED [ 66%]
tests/test_progress_indicators.py::TestProgressIndicator::test_print_info PASSED [ 66%]
tests/test_progress_indicators.py::TestDownloadTracker::test_init PASSED [ 66%]
tests/test_progress_indicators.py::TestDownloadTracker::test_update_progress PASSED [ 66%]
tests/test_progress_indicators.py::TestDownloadTracker::test_complete PASSED [ 66%]
tests/test_progress_indicators.py::TestDownloadTracker::test_fail PASSED [ 67%]
tests/test_progress_indicators.py::TestMultiStepTracker::test_init PASSED [ 67%]
tests/test_progress_indicators.py::TestMultiStepTracker::test_start_step PASSED [ 67%]
tests/test_progress_indicators.py::TestMultiStepTracker::test_complete_step PASSED [ 67%]
tests/test_progress_indicators.py::TestMultiStepTracker::test_fail_step PASSED [ 67%]
tests/test_progress_indicators.py::TestMultiStepTracker::test_skip_step PASSED [ 67%]
tests/test_progress_indicators.py::TestMultiStepTracker::test_finish_all_completed PASSED [ 67%]
tests/test_progress_indicators.py::TestMultiStepTracker::test_finish_with_failure PASSED [ 68%]
tests/test_progress_indicators.py::TestMultiStepTracker::test_out_of_bounds_step PASSED [ 68%]
tests/test_progress_indicators.py::TestGlobalFunctions::test_get_progress_indicator_singleton PASSED [ 68%]
tests/test_progress_indicators.py::TestGlobalFunctions::test_spinner_convenience PASSED [ 68%]
tests/test_progress_indicators.py::TestGlobalFunctions::test_operation_convenience PASSED [ 68%]
tests/test_progress_indicators.py::TestGlobalFunctions::test_progress_bar_convenience PASSED [ 68%]
tests/test_progress_indicators.py::TestOperationTypes::test_all_operation_types PASSED [ 68%]
tests/test_progress_indicators.py::TestOperationTypes::test_operation_type_values PASSED [ 69%]
tests/test_progress_indicators.py::TestEdgeCases::test_empty_operation_title PASSED [ 69%]
tests/test_progress_indicators.py::TestEdgeCases::test_operation_exception â ‹ TestPASSED [ 69%]
tests/test_progress_indicators.py::TestEdgeCases::test_nested_operations PASSED [ 69%]
tests/test_progress_indicators.py::TestEdgeCases::test_very_long_message PASSED [ 69%]
tests/test_progress_indicators.py::TestEdgeCases::test_unicode_messages PASSED [ 69%]
tests/test_progress_indicators.py::TestRichIntegration::test_rich_indicator_init PASSED [ 69%]
tests/test_progress_indicators.py::TestRichIntegration::test_rich_spinner PASSED [ 70%]
tests/test_progress_indicators.py::TestRichIntegration::test_rich_operation PASSED [ 70%]
tests/test_progress_indicators.py::TestRichIntegration::test_rich_progress_bar PASSED [ 70%]
tests/test_progress_indicators.py::TestIntegration::test_full_installation_flow PASSED [ 70%]
tests/test_progress_indicators.py::TestIntegration::test_download_then_install PASSED [ 70%]
tests/test_semantic_cache.py::TestSemanticCache::test_cache_initialization PASSED [ 70%]
tests/test_semantic_cache.py::TestSemanticCache::test_cache_miss PASSED  [ 70%]
tests/test_semantic_cache.py::TestSemanticCache::test_cache_stats_initial PASSED [ 71%]
tests/test_semantic_cache.py::TestSemanticCache::test_cosine_similarity PASSED [ 71%]
tests/test_semantic_cache.py::TestSemanticCache::test_embedding_generation PASSED [ 71%]
tests/test_semantic_cache.py::TestSemanticCache::test_lru_eviction PASSED [ 71%]
tests/test_semantic_cache.py::TestSemanticCache::test_provider_isolation PASSED [ 71%]
tests/test_semantic_cache.py::TestSemanticCache::test_put_and_get_exact_match PASSED [ 71%]
tests/test_semantic_cache.py::TestSemanticCache::test_semantic_similarity_match PASSED [ 71%]
tests/test_shell_integration.py::test_suggest_command_empty PASSED       [ 72%]
tests/test_shell_integration.py::test_suggest_command_text PASSED        [ 72%]
tests/test_smart_stacks.py::test_suggest_stack_ml_gpu_and_cpu PASSED     [ 72%]
tests/test_thread_safety.py::test_singleton_thread_safety_transaction_history PASSED [ 72%]
tests/test_thread_safety.py::test_singleton_thread_safety_hardware_detection PASSED [ 72%]
tests/test_thread_safety.py::test_singleton_thread_safety_degradation_manager PASSED [ 72%]
tests/test_thread_safety.py::test_connection_pool_concurrent_reads PASSED [ 72%]
tests/test_thread_safety.py::test_connection_pool_concurrent_writes PASSED [ 73%]
tests/test_thread_safety.py::test_hardware_detection_parallel PASSED     [ 73%]
tests/test_thread_safety.py::test_connection_pool_timeout PASSED         [ 73%]
tests/test_thread_safety.py::test_connection_pool_context_manager PASSED [ 73%]
tests/test_thread_safety.py::test_stress_concurrent_operations PASSED    [ 73%]
tests/test_transaction_history.py::TestPackageState::test_default_values PASSED [ 73%]
tests/test_transaction_history.py::TestPackageState::test_to_dict PASSED [ 73%]
tests/test_transaction_history.py::TestPackageState::test_from_dict PASSED [ 74%]
tests/test_transaction_history.py::TestTransaction::test_default_values PASSED [ 74%]
tests/test_transaction_history.py::TestTransaction::test_to_dict PASSED  [ 74%]
tests/test_transaction_history.py::TestTransaction::test_from_dict PASSED [ 74%]
tests/test_transaction_history.py::TestTransactionHistory::test_init_creates_database PASSED [ 74%]
tests/test_transaction_history.py::TestTransactionHistory::test_generate_id PASSED [ 74%]
tests/test_transaction_history.py::TestTransactionHistory::test_begin_transaction PASSED [ 74%]
tests/test_transaction_history.py::TestTransactionHistory::test_complete_transaction_success PASSED [ 75%]
tests/test_transaction_history.py::TestTransactionHistory::test_complete_transaction_failure PASSED [ 75%]
tests/test_transaction_history.py::TestTransactionHistory::test_get_transaction PASSED [ 75%]
tests/test_transaction_history.py::TestTransactionHistory::test_get_transaction_not_found PASSED [ 75%]
tests/test_transaction_history.py::TestTransactionHistory::test_get_recent PASSED [ 75%]
tests/test_transaction_history.py::TestTransactionHistory::test_get_recent_with_filter PASSED [ 75%]
tests/test_transaction_history.py::TestTransactionHistory::test_search_by_package PASSED [ 75%]
tests/test_transaction_history.py::TestTransactionHistory::test_search_by_type PASSED [ 76%]
tests/test_transaction_history.py::TestTransactionHistory::test_get_stats PASSED [ 76%]
tests/test_transaction_history.py::TestTransactionHistory::test_calculate_rollback_install PASSED [ 76%]
tests/test_transaction_history.py::TestTransactionHistory::test_calculate_rollback_remove PASSED [ 76%]
tests/test_transaction_history.py::TestUndoManager::test_can_undo_completed PASSED [ 76%]
tests/test_transaction_history.py::TestUndoManager::test_can_undo_not_found PASSED [ 76%]
tests/test_transaction_history.py::TestUndoManager::test_can_undo_failed PASSED [ 76%]
tests/test_transaction_history.py::TestUndoManager::test_preview_undo PASSED [ 77%]
tests/test_transaction_history.py::TestUndoManager::test_preview_undo_not_found PASSED [ 77%]
tests/test_transaction_history.py::TestUndoManager::test_undo_dry_run PASSED [ 77%]
tests/test_transaction_history.py::TestUndoManager::test_undo_not_found PASSED [ 77%]
tests/test_transaction_history.py::TestUndoManager::test_undo_last PASSED [ 77%]
tests/test_transaction_history.py::TestUndoManager::test_undo_last_no_transactions PASSED [ 77%]
tests/test_transaction_history.py::TestTransactionTypes::test_all_types_exist PASSED [ 77%]
tests/test_transaction_history.py::TestTransactionTypes::test_type_values PASSED [ 78%]
tests/test_transaction_history.py::TestTransactionStatus::test_all_statuses_exist PASSED [ 78%]
tests/test_transaction_history.py::TestGlobalFunctions::test_get_history_singleton PASSED [ 78%]
tests/test_transaction_history.py::TestGlobalFunctions::test_get_undo_manager_singleton PASSED [ 78%]
tests/test_transaction_history.py::TestGlobalFunctions::test_record_install PASSED [ 78%]
tests/test_transaction_history.py::TestGlobalFunctions::test_record_remove PASSED [ 78%]
tests/test_transaction_history.py::TestGlobalFunctions::test_show_history PASSED [ 78%]
tests/test_transaction_history.py::TestGlobalFunctions::test_undo_last PASSED [ 79%]
tests/test_transaction_history.py::TestEdgeCases::test_empty_packages_list PASSED [ 79%]
tests/test_transaction_history.py::TestEdgeCases::test_many_packages PASSED [ 79%]
tests/test_transaction_history.py::TestEdgeCases::test_special_characters_in_package PASSED [ 79%]
tests/test_transaction_history.py::TestEdgeCases::test_concurrent_transactions PASSED [ 79%]
tests/test_transaction_history.py::TestIntegration::test_full_install_undo_workflow PASSED [ 79%]
tests/test_transaction_history.py::TestIntegration::test_batch_operations PASSED [ 80%]
tests/test_user_preferences.py::TestUserPreferences::test_custom_initialization PASSED [ 80%]
tests/test_user_preferences.py::TestUserPreferences::test_default_initialization PASSED [ 80%]
tests/test_user_preferences.py::TestConfirmationSettings::test_custom_values PASSED [ 80%]
tests/test_user_preferences.py::TestConfirmationSettings::test_defaults PASSED [ 80%]
tests/test_user_preferences.py::TestAutoUpdateSettings::test_custom_frequency PASSED [ 80%]
tests/test_user_preferences.py::TestAutoUpdateSettings::test_defaults PASSED [ 80%]
tests/test_user_preferences.py::TestAISettings::test_custom_creativity PASSED [ 81%]
tests/test_user_preferences.py::TestAISettings::test_custom_model PASSED [ 81%]
tests/test_user_preferences.py::TestAISettings::test_defaults PASSED     [ 81%]
tests/test_user_preferences.py::TestPackageSettings::test_custom_sources PASSED [ 81%]
tests/test_user_preferences.py::TestPackageSettings::test_defaults PASSED [ 81%]
tests/test_user_preferences.py::TestPreferencesManager::test_atomic_write PASSED [ 81%]
tests/test_user_preferences.py::TestPreferencesManager::test_backup_creation PASSED [ 81%]
tests/test_user_preferences.py::TestPreferencesManager::test_export_json PASSED [ 82%]
tests/test_user_preferences.py::TestPreferencesManager::test_get_all_settings PASSED [ 82%]
tests/test_user_preferences.py::TestPreferencesManager::test_get_config_info PASSED [ 82%]
tests/test_user_preferences.py::TestPreferencesManager::test_get_nested_value PASSED [ 82%]
tests/test_user_preferences.py::TestPreferencesManager::test_get_with_default PASSED [ 82%]
tests/test_user_preferences.py::TestPreferencesManager::test_import_json PASSED [ 82%]
tests/test_user_preferences.py::TestPreferencesManager::test_initialization PASSED [ 82%]
tests/test_user_preferences.py::TestPreferencesManager::test_reset_preferences PASSED [ 83%]
tests/test_user_preferences.py::TestPreferencesManager::test_save_and_load PASSED [ 83%]
tests/test_user_preferences.py::TestPreferencesManager::test_set_boolean_coercion PASSED [ 83%]
tests/test_user_preferences.py::TestPreferencesManager::test_set_enum_coercion PASSED [ 83%]
tests/test_user_preferences.py::TestPreferencesManager::test_set_integer_coercion PASSED [ 83%]
tests/test_user_preferences.py::TestPreferencesManager::test_set_list_coercion PASSED [ 83%]
tests/test_user_preferences.py::TestPreferencesManager::test_set_nested_value PASSED [ 83%]
tests/test_user_preferences.py::TestPreferencesManager::test_set_simple_value PASSED [ 84%]
tests/test_user_preferences.py::TestPreferencesManager::test_validation_frequency_hours PASSED [ 84%]
tests/test_user_preferences.py::TestPreferencesManager::test_validation_invalid_language PASSED [ 84%]
tests/test_user_preferences.py::TestPreferencesManager::test_validation_max_suggestions_too_high PASSED [ 84%]
tests/test_user_preferences.py::TestPreferencesManager::test_validation_max_suggestions_too_low PASSED [ 84%]
tests/test_user_preferences.py::TestPreferencesManager::test_validation_success PASSED [ 84%]
tests/test_user_preferences.py::TestFormatters::test_format_bool PASSED  [ 84%]
tests/test_user_preferences.py::TestFormatters::test_format_enum PASSED  [ 85%]
tests/test_user_preferences.py::TestFormatters::test_format_list PASSED  [ 85%]
tests/test_user_preferences.py::TestFormatters::test_format_string PASSED [ 85%]
tests/test_user_preferences.py::TestEnums::test_ai_creativity PASSED     [ 85%]
tests/test_user_preferences.py::TestEnums::test_verbosity_levels PASSED  [ 85%]
tests/unit/test_config_manager.py::TestConfigManager::test_compare_versions PASSED [ 85%]
tests/unit/test_config_manager.py::TestConfigManager::test_detect_all_packages PASSED [ 85%]
tests/unit/test_config_manager.py::TestConfigManager::test_detect_apt_packages_failure PASSED [ 86%]
tests/unit/test_config_manager.py::TestConfigManager::test_detect_apt_packages_success PASSED [ 86%]
tests/unit/test_config_manager.py::TestConfigManager::test_detect_npm_packages_failure PASSED [ 86%]
tests/unit/test_config_manager.py::TestConfigManager::test_detect_npm_packages_success PASSED [ 86%]
tests/unit/test_config_manager.py::TestConfigManager::test_detect_pip_packages_failure PASSED [ 86%]
tests/unit/test_config_manager.py::TestConfigManager::test_detect_pip_packages_success PASSED [ 86%]
tests/unit/test_config_manager.py::TestConfigManager::test_detect_selective_packages PASSED [ 86%]
tests/unit/test_config_manager.py::TestConfigManager::test_diff_configuration_new_packages PASSED [ 87%]
tests/unit/test_config_manager.py::TestConfigManager::test_diff_configuration_no_changes PASSED [ 87%]
tests/unit/test_config_manager.py::TestConfigManager::test_diff_configuration_preferences PASSED [ 87%]
tests/unit/test_config_manager.py::TestConfigManager::test_diff_configuration_upgrades PASSED [ 87%]
tests/unit/test_config_manager.py::TestConfigManager::test_error_handling_invalid_yaml PASSED [ 87%]
tests/unit/test_config_manager.py::TestConfigManager::test_error_handling_missing_file PASSED [ 87%]
tests/unit/test_config_manager.py::TestConfigManager::test_error_handling_package_install_fails PASSED [ 87%]
tests/unit/test_config_manager.py::TestConfigManager::test_export_configuration_minimal PASSED [ 88%]
tests/unit/test_config_manager.py::TestConfigManager::test_export_configuration_packages_only PASSED [ 88%]â ™ Test
tests/unit/test_config_manager.py::TestConfigManager::test_export_configuration_with_hardware PASSED [ 88%]
tests/unit/test_config_manager.py::TestConfigManager::test_import_configuration_dry_run PASSED [ 88%]
tests/unit/test_config_manager.py::TestConfigManager::test_import_configuration_incompatible PASSED [ 88%]
tests/unit/test_config_manager.py::TestConfigManager::test_import_configuration_selective_packages PASSED [ 88%]
tests/unit/test_config_manager.py::TestConfigManager::test_import_configuration_selective_preferences PASSED [ 88%]
tests/unit/test_config_manager.py::TestConfigManager::test_import_configuration_success PASSED [ 89%]
tests/unit/test_config_manager.py::TestConfigManager::test_install_package_apt_with_sandbox PASSED [ 89%]
tests/unit/test_config_manager.py::TestConfigManager::test_install_package_npm_direct PASSED [ 89%]
tests/unit/test_config_manager.py::TestConfigManager::test_install_package_pip_direct PASSED [ 89%]
tests/unit/test_config_manager.py::TestConfigManager::test_preferences_save_and_load PASSED [ 89%]
tests/unit/test_config_manager.py::TestConfigManager::test_validate_compatibility_missing_fields PASSED [ 89%]
tests/unit/test_config_manager.py::TestConfigManager::test_validate_compatibility_os_warning PASSED [ 89%]
tests/unit/test_config_manager.py::TestConfigManager::test_validate_compatibility_success PASSED [ 90%]
tests/unit/test_config_manager.py::TestConfigManager::test_validate_compatibility_version_mismatch PASSED [ 90%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_cpu_amd_ryzen PASSED [ 90%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_cpu_error_handling PASSED [ 90%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_cpu_intel_xeon PASSED [ 90%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_gpu_amd PASSED [ 90%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_gpu_intel PASSED [ 90%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_gpu_nvidia PASSED [ 91%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_gpu_timeout PASSED [ 91%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_network PASSED [ 91%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_ram PASSED [ 91%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_storage_nvme PASSED [ 91%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_detect_storage_ssd PASSED [ 91%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_profile_complete PASSED [ 91%]
tests/unit/test_hwprofiler.py::TestHardwareProfiler::test_to_json PASSED [ 92%]
tests/unit/test_progress_tracker.py::TestProgressStage::test_stage_creation PASSED [ 92%]
tests/unit/test_progress_tracker.py::TestProgressStage::test_stage_elapsed_time PASSED [ 92%]
tests/unit/test_progress_tracker.py::TestProgressStage::test_stage_is_complete PASSED [ 92%]
tests/unit/test_progress_tracker.py::TestProgressStage::test_format_elapsed PASSED [ 92%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_tracker_creation PASSED [ 92%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_add_stage PASSED [ 92%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_start_tracking PASSED [ 93%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_start_stage PASSED [ 93%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_update_stage_progress PASSED [ 93%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_complete_stage PASSED [ 93%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_overall_progress PASSED [ 93%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_estimate_remaining_time_no_data PASSED [ 93%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_estimate_remaining_time_with_progress PASSED [ 93%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_format_time_remaining PASSED [ 94%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_cancellation PASSED [ 94%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_cancel_callback PASSED [ 94%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_complete_operation PASSED [ 94%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_notifications_disabled_when_plyer_unavailable PASSED [ 94%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_notifications_sent PASSED [ 94%]
tests/unit/test_progress_tracker.py::TestProgressTracker::test_render_text_progress PASSED [ 94%]
tests/unit/test_progress_tracker.py::TestAsyncProgress::test_run_with_progress_success PASSED [ 95%]
tests/unit/test_progress_tracker.py::TestAsyncProgress::test_run_with_progress_failure PASSED [ 95%]
tests/unit/test_progress_tracker.py::TestAsyncProgress::test_run_with_progress_cancelled PASSED [ 95%]
tests/unit/test_progress_tracker.py::TestRichProgressTracker::test_rich_tracker_requires_rich PASSED [ 95%]
tests/unit/test_progress_tracker.py::TestRichProgressTracker::test_rich_tracker_creation PASSED [ 95%]
tests/unit/test_progress_tracker.py::TestRichProgressTracker::test_live_progress_context PASSED [ 95%]
tests/unit/test_progress_tracker.py::TestIntegration::test_multi_stage_operation PASSED [ 95%]
tests/unit/test_progress_tracker.py::TestIntegration::test_operation_with_failure PASSED [ 96%]
tests/unit/test_progress_tracker.py::TestIntegration::test_progress_percentage_boundaries PASSED [ 96%]
tests/unit/test_progress_tracker.py::TestIntegration::test_time_estimation_accuracy PASSED [ 96%]
tests/unit/test_progress_tracker.py::TestCancellationSupport::test_cancel_pending_stages PASSED [ 96%]
tests/unit/test_progress_tracker.py::TestCancellationSupport::test_cleanup_callback_on_cancel PASSED [ 96%]
tests/unit/test_progress_tracker.py::TestEdgeCases::test_invalid_stage_index PASSED [ 96%]
tests/unit/test_progress_tracker.py::TestEdgeCases::test_empty_stages PASSED [ 96%]
tests/unit/test_progress_tracker.py::TestEdgeCases::test_render_without_rich PASSED [ 97%]â ‹ Test
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_audit_logging PASSED [ 97%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_comprehensive_logging PASSED [ 97%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_execute_blocked_command PASSED [ 97%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_execute_dry_run PASSED [ 97%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_execute_success PASSED [ 97%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_execute_timeout PASSED [ 97%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_execute_with_rollback PASSED [ 98%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_execution_result_properties PASSED [ 98%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_path_validation PASSED [ 98%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_resource_limits PASSED [ 98%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_rollback_functionality PASSED [ 98%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_snapshot_creation PASSED [ 98%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_validate_command_allowed PASSED [ 98%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_validate_command_blocked_dangerous PASSED [ 99%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_validate_command_not_whitelisted PASSED [ 99%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_validate_sudo_allowed PASSED [ 99%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_validate_sudo_blocked PASSED [ 99%]
tests/unit/test_sandbox_executor.py::TestSandboxExecutor::test_whitelist_commands PASSED [ 99%]
tests/unit/test_sandbox_executor.py::TestSecurityFeatures::test_dangerous_patterns_blocked PASSED [ 99%]
tests/unit/test_sandbox_executor.py::TestSecurityFeatures::test_path_traversal_protection PASSED [100%]

=================================== FAILURES ===================================
____________________ TestCortexCLI.test_install_no_api_key _____________________
tests/test_cli.py:65: in test_install_no_api_key
    self.assertEqual(result, 1)
E   AssertionError: 0 != 1
----------------------------- Captured stdout call -----------------------------
 CX  â ‹ Understanding request...
 CX  â”‚ Planning installation...
â ‹ Analyzing system requirements...â ™ Analyzing system requirements...â ¹ Analyzing system requirements...â ¸ Analyzing system requirements...â ¼ Analyzing system requirements...â ´ Analyzing system requirements...â ¦ Analyzing system requirements...â § Analyzing system requirements...â ‡ Analyzing system requirements...â  Analyzing system requirements...[K CX  â”‚ Installing docker...

Generated commands:
  1. sudo apt update && sudo apt install -y docker.io

To execute these commands, run with --execute flag
Example: cortex install docker --execute
___________________ TestEndToEnd.test_complete_with_routing ____________________
tests/test_llm_router.py:434: in test_complete_with_routing
    self.assertEqual(response.provider, LLMProvider.KIMI_K2)
E   AssertionError: <LLMProvider.OLLAMA: 'ollama'> != <LLMProvider.KIMI_K2: 'kimi_k2'>
_____________________ TestEndToEnd.test_fallback_on_error ______________________
tests/test_llm_router.py:470: in test_fallback_on_error
    self.assertEqual(response.provider, LLMProvider.CLAUDE)
E   AssertionError: <LLMProvider.OLLAMA: 'ollama'> != <LLMProvider.CLAUDE: 'claude'>
__________________ TestParallelProcessing.test_complete_batch __________________
tests/test_llm_router.py:640: in test_complete_batch
    asyncio.run(run_test())
/usr/lib/python3.12/asyncio/runners.py:194: in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
/usr/lib/python3.12/asyncio/runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/asyncio/base_events.py:687: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
tests/test_llm_router.py:637: in run_test
    self.assertEqual(responses[0].provider, LLMProvider.CLAUDE)
E   AssertionError: <LLMProvider.KIMI_K2: 'kimi_k2'> != <LLMProvider.CLAUDE: 'claude'>
______________________ TestOllamaProvider.test_is_running ______________________
tests/test_ollama_integration.py:54: in test_is_running
    self.assertFalse(provider.is_running())
                     ^^^^^^^^^^^^^^^^^^^^^
cortex/providers/ollama_provider.py:146: in is_running
    response = requests.get(
/usr/lib/python3.12/unittest/mock.py:1134: in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1138: in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1193: in _execute_mock_call
    raise effect
E   Exception: Connection refused
___________________ TestLLMRouter.test_complete_with_ollama ____________________
tests/test_ollama_integration.py:183: in test_complete_with_ollama
    self.assertIn("nginx", response.content.lower())
E   AssertionError: 'nginx' not found in <MagicMock name='post().json().get().lower()' id='126232011880592'>
------------------------------ Captured log call -------------------------------
WARNING  cortex.llm_router:llm_router.py:193 âš ï¸  No Kimi K2 API key provided
=========================== short test summary info ============================
FAILED tests/test_cli.py::TestCortexCLI::test_install_no_api_key - AssertionError: 0 != 1
FAILED tests/test_llm_router.py::TestEndToEnd::test_complete_with_routing - AssertionError: <LLMProvider.OLLAMA: 'ollama'> != <LLMProvider.KIMI_K2: 'kimi_k2'>
FAILED tests/test_llm_router.py::TestEndToEnd::test_fallback_on_error - AssertionError: <LLMProvider.OLLAMA: 'ollama'> != <LLMProvider.CLAUDE: 'claude'>
FAILED tests/test_llm_router.py::TestParallelProcessing::test_complete_batch - AssertionError: <LLMProvider.KIMI_K2: 'kimi_k2'> != <LLMProvider.CLAUDE: 'claude'>
FAILED tests/test_ollama_integration.py::TestOllamaProvider::test_is_running - Exception: Connection refused
FAILED tests/test_ollama_integration.py::TestLLMRouter::test_complete_with_ollama - AssertionError: 'nginx' not found in <MagicMock name='post().json().get().lower()' id='126232011880592'>
======== 6 failed, 684 passed, 9 skipped, 22 subtests passed in 32.02s =========
â ™ Testâ ¹ Test